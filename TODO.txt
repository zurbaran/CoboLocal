Backtest para Julio en semanal, filtro al 6%,..... entradas en LT? Euro/Dolar? desde fecha? riesgo? cantidad maxima a invertir?......



############################################


Probar el ORM CRUB peewee para remplazar el codigo SQL

############################################

Externalizar las constantes a un archivo importable al resto

############################################

Traceback (most recent call last):
  File "Cobo.py", line 2885, in <module>
    main()
  File "Cobo.py", line 2399, in main
    tickets = jstock.ticketsdeJstock()
UnboundLocalError: local variable 'jstock' referenced before assignment
############################################

cuando analizamos una accion que en alcista ya ha roto la resistencia creando soporte, en el analisis de la BBDD debe actualizar el ultimo precio de salida
de manera que se queda entrada = null y salida = null pero precio_salida se queda en el soporte anterior, cuando debe quedarse el que hay nuevo y reciente
ejemplo NCLH, resistencia anterior 38,05 soporte anterior en caso ruptura de resistencia 30,44 y para ese analisis la el precio_salida anterior confirmado 29,08
	cuando rompa la resistencia, ahora el soporte o precio_salida anterior es 30,44, que es el ultimo soporte dejado

############################################
Cobo. error en el resultado de los analisis referentes al stoploss anterior. El error no puede estar aqui:
	analisisAlcistaAccion nos devuelve el minimo de la barra cuando nos lo deberia devolver con el filtro incluido, es decir el stoploss anterior
	analisisBajistaAccion nos devuelve el maximo de la barra cuando nos lo deberia devolver con el filtro incluido, es decir el stoploss anterior
	
Porque la consulta a la base de datos que realiza las listas, debe obtener el punto de salida sin filtro, y en la consulta se le "a√±ade" y calcula con el.

##############################################
		# TODO: cuando actualizo con multiples ventanas, a veces se encuentra que una de las ventanas borro la accion de la BBDD
		# para que no se detenga, habria que comprobar si la accion existe en la BBDD
		# con multiples ventanas borra acciones que no deberia
		# FIXME: crear una funcion que compruebe, antes de hacer estas cosas, si la accion aun existe 




###############################################

la opcion "w" obtiene tickets nuevos del programa descargado jstock, cambiar esta opcion creando una funcion que se descarge directamente estos archivos de 
https://github.com/yccheok/jstock/tree/master/appengine/jstock-static/war/stocks_information

podemos obtener una lista de directorios abriendo este archivo
https://github.com/yccheok/jstock/blob/master/appengine/jstock-static/war/stocks_information/stock-info-database-meta.json
de manera que obtendriamos direcciones como esta
https://github.com/yccheok/jstock/tree/master/appengine/jstock-static/war/stocks_information/australia
que contienen un archivo que se llama siempre stock.zip
de manera que creando un bucle con el formato
https://github.com/yccheok/jstock/blob/master/appengine/jstock-static/war/stocks_information/.....nombre el pais...../stocks.zip
descomprimiendo el .zip y leyendo el contenido que siempre es un archivo stock.csv
obtenedremos una fuente de actualizacion de los tickets

se supone que utiliza el mismo formato que cuando lo hacemos en local

###############################################

hacer que la opcion "a" de actualizar un ticket pueda ser actualizar una lista de tickets separados un "," haciendo un split() sobre el texto y creando un bucle que lo haga.


###########################################


anadir funcione de agregar ipos para que devuelva los tickets, solo los tickets
desde las webs de los mercados
comprobar tickets si existen, si no, agregarlos
